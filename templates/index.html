<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ToDo ‚Äî –°–ø–∏—Å–æ–∫ –¥–µ–ª</title>
    <!-- Bootstrap CDN –¥–ª—è —Å—Ç–∏–ª–µ–π -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- –°–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π —Å—Ç–∏–ª—å -->
    <link href="{{ url_for('static', filename='style.css') }}" rel="stylesheet" />
</head>
<body class="bg-light py-5">
    <div class="container shadow p-4 rounded bg-white">
        <h1 class="text-center mb-4 text-primary fw-bold">–°–ø–∏—Å–æ–∫ –¥–µ–ª</h1>

        <!-- –§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∑–∞–¥–∞—á–∏ -->
        <form action="/add" method="post" class="input-group mb-4">
            <input type="text" class="form-control" name="description" placeholder="–ù–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ" required />
            <button class="btn btn-primary" type="submit">–î–æ–±–∞–≤–∏—Ç—å</button>
        </form>

        <!-- –°–ø–∏—Å–æ–∫ –∑–∞–¥–∞—á -->
        {% if tasks %}
        <ul class="list-group">
            {% for task in tasks %}
            <li class="list-group-item d-flex align-items-center {% if task[2] %}text-decoration-line-through text-muted{% endif %}">
                <!-- –°—Ç–∞—Ç—É—Å -->
                <form action="/complete/{{ task[0] }}" method="get" class="me-3">
                    <button class="btn btn-sm {% if task[2] %}btn-success{% else %}btn-outline-secondary{% endif %} rounded-circle" type="submit" title="{% if task[2] %}–í—ã–ø–æ–ª–Ω–µ–Ω–∞{% else %}–ù–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∞{% endif %}">
                        {% if task[2] %}‚úîÔ∏è{% else %}‚¨ú{% endif %}
                    </button>
                </form>

                <!-- –û–ø–∏—Å–∞–Ω–∏–µ –∑–∞–¥–∞—á–∏ -->
                <span class="flex-grow-1">{{ task[1] }}</span>

                <!-- –ö–Ω–æ–ø–∫–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è -->
                <a href="{{ url_for('edit', id=task[0]) }}" class="btn btn-sm btn-warning ms-2" title="–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å">‚úèÔ∏è</a>

                <!-- –£–¥–∞–ª–∏—Ç—å -->
                <a href="/delete/{{ task[0] }}" class="btn btn-sm btn-danger ms-2" title="–£–¥–∞–ª–∏—Ç—å –∑–∞–¥–∞—á—É">üóëÔ∏è</a>
            </li>
            {% endfor %}
        </ul>
        {% else %}
        <p class="text-center text-muted mt-4">–ó–∞–¥–∞—á –Ω–µ—Ç. –î–æ–±–∞–≤—å—Ç–µ –Ω–æ–≤—É—é ‚Äî –∏ –æ–Ω–∞ –ø–æ—è–≤–∏—Ç—Å—è –∑–¥–µ—Å—å!</p>
        {% endif %}
    </div>
</body>
</html>